import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="CRUD/Data request structure" />

## Data request structure

** \* This is very important!**

You can inject your data request apis to vue-crud-toolkit to make your crud application.

Your apis should have the following structure:

```typescript
// Get list items with pagination
type GetPaginationApi = ({
  page,
  perPage,
  filter,
  sort,
}: {
  page: number;
  perPage: number;
  filter: any;
  sort: any;
}) => Promise<{
  count: number;
  items: any[];
  pageInfo: {
    currentPage: number;
    perPage: number;
    pageCount: number;
    itemCount: number;
    hasNextPage: boolean;
    hasPreviousPage: boolean;
  };
}>;

// Get list items with pagination in the trash
type GetTrashPaginationApi = ({
  page,
  perPage,
  filter,
  sort,
}: {
  page: number;
  perPage: number;
  filter: any;
  sort: any;
}) => Promise<{
  count: number;
  items: any[];
  pageInfo: {
    currentPage: number;
    perPage: number;
    pageCount: number;
    itemCount: number;
    hasNextPage: boolean;
    hasPreviousPage: boolean;
  };
}>;

// Count items
type NormalCountApi = (filter: any) => Promise<number>;

// Count items in the trash
type TrashCountApi = (filter) => Promise<number>;

// Create new item
type CreateApi = (data: any) => Promise<any>;

// Update item
type UpdateApi = (id: string | number, data: any) => Promise<any>;

// Remove item
type RemoveApi = (id: string | number) => Promise<any>;

// Restore item
type RestoreApi = (id: string | number) => Promise<any>;

// Purge item
type PurgeApi = (id: string | number) => Promise<any>;

// Empty trash
type EmptyTrashApi = () => Promise<any>;
```
